{"version":3,"sources":["webpack:///./src/views/form-custom/index.vue?fe65","webpack:///./src/views/form-custom/components/CustomFormItem.vue?bee3","webpack:///src/views/form-custom/components/CustomFormItem.vue","webpack:///./src/views/form-custom/components/CustomFormItem.vue?2963","webpack:///./src/views/form-custom/components/CustomFormItem.vue","webpack:///src/views/form-custom/index.vue","webpack:///./src/views/form-custom/index.vue?7ebe","webpack:///./src/views/form-custom/index.vue","webpack:///./node_modules/core-js/modules/es.array.find-index.js","webpack:///./src/views/form-custom/index.vue?16aa"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","previewing","_e","attrs","on","$event","_v","onSave","onBack","directives","name","rawName","value","expression","staticStyle","onAddForm","_l","item","index","key","class","formActive","onClickForm","_s","title","fixedFields","length","slot","onChangeFixedField","model","callback","$$v","$set","label","customFields","pull","put","icon","fields","props","$_","uniqueId","span","onShowFieldConfig","onDelField","form","fieldConfigVisible","fieldConfig","isFixed","includes","component","options","onDelOption","onAddOption","onHideFieldConfig","onSaveFieldConfig","staticRenderFns","labelWidth","required","option","type","Object","components","data","dragItem","forms","fieldIndex","created","forEach","methods","$router","back","tableName","push","checked","onAddField","splice","temp","$","$findIndex","findIndex","addToUnscopables","FIND_INDEX","SKIPS_HOLES","Array","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/chunk-1c1c90c2.52aa9b29.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-custom\"},[_c('div',{staticClass:\"form-header\"},[_c('div'),_c('div',{staticClass:\"form-header__buttons\"},[(!_vm.previewing)?_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-eye\",\"ghost\":\"\"},on:{\"click\":function($event){_vm.previewing = true}}},[_vm._v(\" 预览 \")]):_vm._e(),(!_vm.previewing)?_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSave}},[_vm._v(\"保存\")]):_vm._e(),(_vm.previewing)?_c('Button',{attrs:{\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":_vm.onBack}},[_vm._v(\"返回\")]):_vm._e()],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.previewing),expression:\"!previewing\"}],staticClass:\"form-container\"},[_c('div',{staticClass:\"form-list\"},[_c('div',{staticClass:\"r-w-sb-c\",staticStyle:{\"margin-bottom\":\"16px\",\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',[_vm._v(\"请选择调查表段落\")]),_c('a',{on:{\"click\":_vm.onAddForm}},[_vm._v(\"添加\")])]),_vm._l((_vm.forms),function(item,index){return _c('div',{key:index,staticClass:\"form-list__item\",class:_vm.formActive === item ? 'active' : '',on:{\"click\":function($event){return _vm.onClickForm(item)}}},[_vm._v(\" \"+_vm._s(item.title)+\" \")])})],2),_c('div',{staticClass:\"form-fields\"},[_c('div',[_vm._v(\"请选择段落字段\")]),_c('Collapse',{attrs:{\"value\":['fixed', 'custom'],\"simple\":\"\"}},[(_vm.formActive && _vm.formActive.fixedFields && _vm.formActive.fixedFields.length > 0)?_c('Panel',{attrs:{\"name\":\"fixed\"}},[_vm._v(\" 固定字段 \"),_c('template',{slot:\"content\"},_vm._l((_vm.formActive.fixedFields),function(item,index){return _c('Checkbox',{key:index,on:{\"on-change\":function($event){return _vm.onChangeFixedField(item)}},model:{value:(item.checked),callback:function ($$v) {_vm.$set(item, \"checked\", $$v)},expression:\"item.checked\"}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),1)],2):_vm._e(),_c('Panel',{attrs:{\"name\":\"custom\"}},[_vm._v(\" 自定义字段 \"),_c('template',{slot:\"content\"},[_c('draggable',{attrs:{\"list\":_vm.customFields,\"group\":{ name: 'formEditor', pull: 'clone', put: false },\"draggable\":\".custom-field\",\"sort\":false}},_vm._l((_vm.customFields),function(item,index){return _c('div',{key:index,staticClass:\"custom-field\"},[_c('Icon',{attrs:{\"type\":item.icon}}),_vm._v(\" \"+_vm._s(item.label)+\" \")],1)}),0)],1)],2)],1)],1),_c('div',{staticClass:\"form-editor\"},[_c('Input',{attrs:{\"placeholder\":\"请输入调查表名\"},model:{value:(_vm.formActive.tableName),callback:function ($$v) {_vm.$set(_vm.formActive, \"tableName\", $$v)},expression:\"formActive.tableName\"}}),_c('Form',{attrs:{\"label-width\":100,\"label-colon\":\"\"}},[_c('draggable',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"align-content\":\"flex-start\"},attrs:{\"list\":_vm.formActive.fields,\"group\":\"formEditor\",\"tag\":\"Row\",\"component-data\":{ props: {} },\"animation\":340}},_vm._l((_vm.formActive.fields),function(item,index){return _c('Col',{key:_vm.$_.uniqueId(item.label),staticClass:\"form-item\",attrs:{\"span\":item.span || 24}},[_c('custom-form-item',{attrs:{\"item\":item}}),_c('div',{staticClass:\"form-item__buttons\"},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-create\",\"size\":\"small\",\"shape\":\"circle\"},on:{\"click\":function($event){return _vm.onShowFieldConfig(item, index)}}}),_c('Button',{attrs:{\"type\":\"error\",\"icon\":\"md-trash\",\"size\":\"small\",\"shape\":\"circle\"},on:{\"click\":function($event){return _vm.onDelField(item, index)}}})],1)],1)}),1)],1)],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.previewing),expression:\"previewing\"}],staticClass:\"form-preview\"},[_c('Tabs',{attrs:{\"value\":\"0\"}},_vm._l((_vm.forms),function(form,index){return _c('TabPane',{key:index,attrs:{\"name\":index + '',\"label\":form.title}},[_c('Form',{attrs:{\"label-width\":100,\"label-colon\":\"\"}},[_c('Row',_vm._l((form.fields),function(item){return _c('Col',{key:_vm.$_.uniqueId(item.label),staticClass:\"form-item\",attrs:{\"span\":item.span || 24}},[_c('custom-form-item',{attrs:{\"item\":item}})],1)}),1)],1)],1)}),1)],1),_c('Drawer',{attrs:{\"title\":\"字段配置\",\"width\":\"360\"},model:{value:(_vm.fieldConfigVisible),callback:function ($$v) {_vm.fieldConfigVisible=$$v},expression:\"fieldConfigVisible\"}},[_c('Form',{attrs:{\"model\":_vm.fieldConfig,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"标签名\",\"prop\":\"label\"}},[_c('Input',{attrs:{\"placeholder\":\"标签名\",\"disabled\":_vm.fieldConfig.isFixed},model:{value:(_vm.fieldConfig.label),callback:function ($$v) {_vm.$set(_vm.fieldConfig, \"label\", $$v)},expression:\"fieldConfig.label\"}})],1),_c('FormItem',{attrs:{\"label\":\"表单栅格\",\"prop\":\"span\"}},[_c('InputNumber',{attrs:{\"min\":2,\"max\":24,\"step\":4},model:{value:(_vm.fieldConfig.span),callback:function ($$v) {_vm.$set(_vm.fieldConfig, \"span\", $$v)},expression:\"fieldConfig.span\"}})],1),_c('FormItem',{attrs:{\"label\":\"必填\",\"prop\":\"required\"}},[_c('i-switch',{model:{value:(_vm.fieldConfig.required),callback:function ($$v) {_vm.$set(_vm.fieldConfig, \"required\", $$v)},expression:\"fieldConfig.required\"}},[_c('span',{attrs:{\"slot\":\"open\"},slot:\"open\"},[_vm._v(\"是\")]),_c('span',{attrs:{\"slot\":\"close\"},slot:\"close\"},[_vm._v(\"否\")])])],1),(['radio', 'checkbox'].includes(_vm.fieldConfig.component) && !_vm.fieldConfig.isFixed)?[_c('Divider',[_vm._v(\"选项\")]),_c('draggable',{attrs:{\"list\":_vm.fieldConfig.options,\"draggable\":\".field-option\",\"handle\":\".handle\"}},[_vm._l((_vm.fieldConfig.options),function(item,index){return _c('div',{key:_vm.$_.uniqueId(item.label),staticClass:\"field-option\"},[_c('Icon',{staticClass:\"handle\",attrs:{\"type\":\"md-menu\",\"size\":\"20\"}}),_c('Input',{staticStyle:{\"width\":\"160px\"},attrs:{\"placeholder\":\"选项名\"},model:{value:(item.label),callback:function ($$v) {_vm.$set(item, \"label\", $$v)},expression:\"item.label\"}}),_c('Input',{staticStyle:{\"width\":\"100px\"},attrs:{\"placeholder\":\"选项值\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}),_c('Icon',{staticClass:\"remove\",attrs:{\"type\":\"ios-remove-circle-outline\",\"size\":\"20\"},on:{\"click\":function($event){return _vm.onDelOption(item, index)}}})],1)}),_c('div',{staticClass:\"field-option-add\",attrs:{\"slot\":\"footer\"},on:{\"click\":_vm.onAddOption},slot:\"footer\"},[_c('Icon',{attrs:{\"type\":\"ios-add-circle-outline\",\"size\":\"18\"}}),_vm._v(\" 添加选项 \")],1)],2)]:_vm._e()],2),_c('div',{staticClass:\"drawer-footer\"},[_c('Button',{staticStyle:{\"margin-right\":\"8px\"},on:{\"click\":_vm.onHideFieldConfig}},[_vm._v(\"取消\")]),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSaveFieldConfig}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('FormItem',{attrs:{\"label\":_vm.item.label,\"label-width\":_vm.item.labelWidth || null,\"required\":_vm.item.required ? true : false}},[(_vm.item.component === 'radio')?[_c('RadioGroup',{model:{value:(_vm.item.value),callback:function ($$v) {_vm.$set(_vm.item, \"value\", $$v)},expression:\"item.value\"}},_vm._l((_vm.item.options),function(option,index){return _c('Radio',{key:index,attrs:{\"label\":option.value}},[_vm._v(\" \"+_vm._s(option.label)+\" \")])}),1)]:(_vm.item.component === 'checkbox')?[_c('CheckboxGroup',_vm._l((_vm.item.options),function(option,index){return _c('Checkbox',{key:index,attrs:{\"label\":option.value}},[_vm._v(\" \"+_vm._s(option.label)+\" \")])}),1)]:(_vm.item.component === 'date')?[_c('DatePicker',{attrs:{\"type\":_vm.item.type || 'date',\"placeholder\":\"请选择\"}})]:[_c('Input',{attrs:{\"placeholder\":\"请输入\"}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 自定义表单 item  -->\n<template>\n  <FormItem\n    :label=\"item.label\"\n    :label-width=\"item.labelWidth || null\"\n    :required=\"item.required ? true : false\"\n  >\n    <!-- 单选框 -->\n    <template v-if=\"item.component === 'radio'\">\n      <RadioGroup v-model=\"item.value\">\n        <Radio v-for=\"(option, index) in item.options\" :key=\"index\" :label=\"option.value\">\n          {{ option.label }}\n        </Radio>\n      </RadioGroup>\n    </template>\n    <!-- 多选框 -->\n    <template v-else-if=\"item.component === 'checkbox'\">\n      <CheckboxGroup>\n        <Checkbox v-for=\"(option, index) in item.options\" :key=\"index\" :label=\"option.value\">\n          {{ option.label }}\n        </Checkbox>\n      </CheckboxGroup>\n    </template>\n    <!-- 日期 -->\n    <template v-else-if=\"item.component === 'date'\">\n      <DatePicker :type=\"item.type || 'date'\" placeholder=\"请选择\" />\n    </template>\n    <!-- 输入框 -->\n    <template v-else>\n      <Input placeholder=\"请输入\" />\n    </template>\n  </FormItem>\n</template>\n\n<script>\nexport default {\n  name: 'CustomFormItem',\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomFormItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomFormItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomFormItem.vue?vue&type=template&id=ce2982f0&scoped=true&\"\nimport script from \"./CustomFormItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomFormItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ce2982f0\",\n  null\n  \n)\n\nexport default component.exports","<!--\n自定义表单页面，实现了拖拽自定义表单元素及表单配置\n使用的插件有：lodash、vuedraggable\n-->\n<template>\n  <div class=\"form-custom\">\n    <!-- 顶部 -->\n    <div class=\"form-header\">\n      <div />\n      <div class=\"form-header__buttons\">\n        <Button v-if=\"!previewing\" type=\"primary\" icon=\"md-eye\" ghost @click=\"previewing = true\">\n          预览\n        </Button>\n        <Button v-if=\"!previewing\" type=\"primary\" @click=\"onSave\">保存</Button>\n        <Button v-if=\"previewing\" type=\"primary\" ghost @click=\"onBack\">返回</Button>\n      </div>\n    </div>\n    <!-- 编辑内容 -->\n    <div v-show=\"!previewing\" class=\"form-container\">\n      <!-- 左侧 -->\n      <div class=\"form-list\">\n        <div\n          class=\"r-w-sb-c\"\n          style=\"margin-bottom: 16px; display: flex; justify-content: space-between\"\n        >\n          <span>请选择调查表段落</span>\n          <a @click=\"onAddForm\">添加</a>\n        </div>\n        <div\n          v-for=\"(item, index) in forms\"\n          :key=\"index\"\n          class=\"form-list__item\"\n          :class=\"formActive === item ? 'active' : ''\"\n          @click=\"onClickForm(item)\"\n        >\n          {{ item.title }}\n        </div>\n      </div>\n      <!-- 中间 -->\n      <div class=\"form-fields\">\n        <div>请选择段落字段</div>\n        <Collapse :value=\"['fixed', 'custom']\" simple>\n          <Panel\n            v-if=\"formActive && formActive.fixedFields && formActive.fixedFields.length > 0\"\n            name=\"fixed\"\n          >\n            固定字段\n            <template slot=\"content\">\n              <Checkbox\n                v-for=\"(item, index) in formActive.fixedFields\"\n                :key=\"index\"\n                v-model=\"item.checked\"\n                @on-change=\"onChangeFixedField(item)\"\n              >\n                {{ item.label }}\n              </Checkbox>\n            </template>\n          </Panel>\n          <Panel name=\"custom\">\n            自定义字段\n            <template slot=\"content\">\n              <draggable\n                :list=\"customFields\"\n                :group=\"{ name: 'formEditor', pull: 'clone', put: false }\"\n                draggable=\".custom-field\"\n                :sort=\"false\"\n              >\n                <div v-for=\"(item, index) in customFields\" :key=\"index\" class=\"custom-field\">\n                  <Icon :type=\"item.icon\" />\n                  {{ item.label }}\n                </div>\n              </draggable>\n            </template>\n          </Panel>\n        </Collapse>\n      </div>\n      <!-- 右边 -->\n      <div class=\"form-editor\">\n        <Input v-model=\"formActive.tableName\" placeholder=\"请输入调查表名\" />\n        <!-- 表单 -->\n        <Form :label-width=\"100\" label-colon>\n          <draggable\n            :list=\"formActive.fields\"\n            group=\"formEditor\"\n            tag=\"Row\"\n            :component-data=\"{ props: {} }\"\n            :animation=\"340\"\n            style=\"width: 100%; height: 100%; align-content: flex-start\"\n          >\n            <Col\n              v-for=\"(item, index) in formActive.fields\"\n              :key=\"$_.uniqueId(item.label)\"\n              :span=\"item.span || 24\"\n              class=\"form-item\"\n            >\n              <custom-form-item :item=\"item\" />\n              <div class=\"form-item__buttons\">\n                <Button\n                  type=\"primary\"\n                  icon=\"md-create\"\n                  size=\"small\"\n                  shape=\"circle\"\n                  @click=\"onShowFieldConfig(item, index)\"\n                />\n                <Button\n                  type=\"error\"\n                  icon=\"md-trash\"\n                  size=\"small\"\n                  shape=\"circle\"\n                  @click=\"onDelField(item, index)\"\n                />\n              </div>\n            </Col>\n          </draggable>\n        </Form>\n      </div>\n    </div>\n    <!-- 预览 -->\n    <div v-show=\"previewing\" class=\"form-preview\">\n      <Tabs value=\"0\">\n        <TabPane v-for=\"(form, index) in forms\" :key=\"index\" :name=\"index + ''\" :label=\"form.title\">\n          <Form :label-width=\"100\" label-colon>\n            <Row>\n              <Col\n                v-for=\"item in form.fields\"\n                :key=\"$_.uniqueId(item.label)\"\n                :span=\"item.span || 24\"\n                class=\"form-item\"\n              >\n                <custom-form-item :item=\"item\" />\n              </Col>\n            </Row>\n          </Form>\n        </TabPane>\n      </Tabs>\n    </div>\n    <!-- 表单控件配置信息 -->\n    <Drawer v-model=\"fieldConfigVisible\" title=\"字段配置\" width=\"360\">\n      <Form :model=\"fieldConfig\" :label-width=\"80\">\n        <FormItem label=\"标签名\" prop=\"label\">\n          <Input v-model=\"fieldConfig.label\" placeholder=\"标签名\" :disabled=\"fieldConfig.isFixed\" />\n        </FormItem>\n        <FormItem label=\"表单栅格\" prop=\"span\">\n          <InputNumber v-model=\"fieldConfig.span\" :min=\"2\" :max=\"24\" :step=\"4\" />\n        </FormItem>\n        <FormItem label=\"必填\" prop=\"required\">\n          <i-switch v-model=\"fieldConfig.required\">\n            <span slot=\"open\">是</span>\n            <span slot=\"close\">否</span>\n          </i-switch>\n        </FormItem>\n        <template\n          v-if=\"['radio', 'checkbox'].includes(fieldConfig.component) && !fieldConfig.isFixed\"\n        >\n          <Divider>选项</Divider>\n          <draggable :list=\"fieldConfig.options\" draggable=\".field-option\" handle=\".handle\">\n            <div\n              v-for=\"(item, index) in fieldConfig.options\"\n              :key=\"$_.uniqueId(item.label)\"\n              class=\"field-option\"\n            >\n              <Icon type=\"md-menu\" size=\"20\" class=\"handle\" />\n              <Input v-model=\"item.label\" placeholder=\"选项名\" style=\"width: 160px\" />\n              <Input v-model=\"item.value\" placeholder=\"选项值\" style=\"width: 100px\" />\n              <Icon\n                type=\"ios-remove-circle-outline\"\n                size=\"20\"\n                class=\"remove\"\n                @click=\"onDelOption(item, index)\"\n              />\n            </div>\n            <div slot=\"footer\" class=\"field-option-add\" @click=\"onAddOption\">\n              <Icon type=\"ios-add-circle-outline\" size=\"18\" />\n              添加选项\n            </div>\n          </draggable>\n        </template>\n      </Form>\n      <div class=\"drawer-footer\">\n        <Button style=\"margin-right: 8px\" @click=\"onHideFieldConfig\">取消</Button>\n        <Button type=\"primary\" @click=\"onSaveFieldConfig\">保存</Button>\n      </div>\n    </Drawer>\n  </div>\n</template>\n\n<script>\nimport CustomFormItem from '@/views/form-custom/components/CustomFormItem';\nimport draggable from 'vuedraggable';\n\nconst defaultField = {\n  label: null,\n  span: 24,\n  component: null,\n  required: false,\n  // 单选、多选选项\n  options: [],\n};\n\nexport default {\n  components: { CustomFormItem, draggable },\n  data() {\n    return {\n      // 预览\n      previewing: false,\n      // 拖拽的元素数据\n      dragItem: null,\n      // 左侧选中的调查表段落，用的对象是否相等来判断，别深度克隆\n      formActive: null,\n      // 调查表段落列表\n      forms: [\n        {\n          title: '一般情况',\n          tableName: '',\n          // 最终编辑的表单数据\n          fields: [],\n          // 固定字段列表\n          fixedFields: [\n            {\n              label: '国际码',\n              component: 'input',\n              span: 12,\n            },\n            {\n              label: '病例编码',\n              component: 'input',\n              span: 12,\n            },\n            {\n              label: '姓名',\n              checked: true,\n              component: 'input',\n              span: 12,\n              required: true,\n            },\n            {\n              label: '性别',\n              checked: true,\n              component: 'radio',\n              span: 12,\n              options: [\n                { label: '男', value: '1' },\n                { label: '女', value: '2' },\n              ],\n            },\n            {\n              label: '身份证号',\n              checked: true,\n              component: 'input',\n              span: 12,\n              required: true,\n            },\n            {\n              label: '年龄（岁）',\n              component: 'input',\n              span: 12,\n            },\n            {\n              label: '联系电话',\n              checked: true,\n              component: 'input',\n              span: 12,\n              required: true,\n            },\n            {\n              label: '现住址',\n              checked: true,\n              component: 'area',\n              span: 24,\n            },\n            {\n              label: '详细地址',\n              checked: true,\n              component: 'input',\n              span: 24,\n            },\n            {\n              label: '职业',\n              component: 'input',\n              span: 24,\n            },\n            {\n              label: '文化程度',\n              component: 'radio',\n              options: [\n                { label: '学龄前儿童', value: '1' },\n                { label: '小学', value: '2' },\n                { label: '初中', value: '3' },\n                { label: '高中或中专', value: '4' },\n                { label: '大学及以上', value: '5' },\n                { label: '文盲', value: '6' },\n                { label: '不详', value: '7' },\n              ],\n            },\n            {\n              label: '疾病名称',\n              checked: true,\n              component: 'disease',\n            },\n            {\n              label: '病例分类',\n              checked: true,\n              component: 'radio',\n              value: '1',\n              options: [\n                { label: '疑似病例', value: '1' },\n                { label: '临床诊断病例', value: '2' },\n                { label: '实验室确诊病例', value: '3' },\n                { label: '排除', value: '4', showInput: true },\n              ],\n            },\n          ],\n        },\n        {\n          title: '发病及临床情况',\n          tableName: '',\n          fields: [],\n          // 固定字段列表\n          fixedFields: [\n            {\n              label: '发病日期',\n              checked: true,\n              component: 'date',\n              span: 12,\n            },\n            {\n              label: '发病地点',\n              checked: true,\n              span: 12,\n            },\n            {\n              label: '初诊日期',\n              component: 'date',\n              span: 12,\n            },\n            {\n              label: '初诊单位',\n              span: 12,\n            },\n            {\n              label: '确诊日期',\n              component: 'date',\n              span: 12,\n            },\n            {\n              label: '确诊单位',\n              span: 12,\n            },\n            {\n              label: '是否住院',\n              component: 'radio',\n              span: 12,\n              options: [\n                { label: '是', value: '1' },\n                { label: '否', value: '2' },\n              ],\n            },\n            {\n              label: '住院日期',\n              component: 'date',\n              span: 12,\n            },\n            {\n              label: '住院单位',\n              span: 12,\n            },\n            {\n              label: '是否发热',\n              component: 'radio',\n              span: 12,\n              options: [\n                { label: '是', value: '1' },\n                { label: '否', value: '2' },\n              ],\n            },\n            {\n              label: '发热持续天数',\n              span: 12,\n            },\n            {\n              label: '最高体温',\n              span: 12,\n            },\n            {\n              label: '临床症状',\n              component: 'radio',\n              value: '1',\n              options: [\n                { label: '咳嗽', value: '1' },\n                { label: '胸闷', value: '2' },\n                { label: '呼吸困难', value: '3' },\n                { label: '食欲减退', value: '4' },\n                { label: '头痛', value: '5' },\n                { label: '恶心', value: '6' },\n                { label: '其他', value: '7', showInput: true },\n              ],\n            },\n          ],\n        },\n        {\n          title: '流行病学调查',\n          tableName: '',\n          fields: [],\n          // 固定字段列表\n          fixedFields: [\n            {\n              label: '发病时在现住址县区居住时间',\n              labelWidth: 260,\n              checked: true,\n              span: 24,\n              component: 'radio',\n              options: [\n                { label: '＜7天', value: '1' },\n                { label: '7-21天', value: '2' },\n                { label: '22天-3月', value: '3' },\n                { label: '＞3月', value: '4' },\n              ],\n            },\n            {\n              label: '是否在集体单位',\n              labelWidth: 260,\n              checked: true,\n              span: 24,\n              component: 'radio',\n              options: [\n                { label: '是', value: '1' },\n                { label: '否', value: '2' },\n                { label: '不详', value: '3' },\n              ],\n            },\n            {\n              label: '集体单位具体名称',\n              labelWidth: 260,\n              span: 24,\n            },\n            {\n              label: '过去是否患过此病',\n              labelWidth: 260,\n              span: 24,\n              component: 'radio',\n              options: [\n                { label: '是', value: '1' },\n                { label: '否', value: '2' },\n              ],\n            },\n            {\n              label: '发病前2个月是否有外出（或旅游史）',\n              labelWidth: 260,\n              span: 24,\n              component: 'radio',\n              options: [\n                { label: '是', value: '1' },\n                { label: '否', value: '2' },\n              ],\n            },\n            {\n              label: '消毒和处理情况',\n              labelWidth: 260,\n              span: 24,\n              component: 'radio',\n              options: [\n                { label: '随时消毒', value: '1' },\n                { label: '终末消毒', value: '2' },\n              ],\n            },\n            {\n              label: '行程信息',\n              labelWidth: 260,\n              span: 24,\n            },\n          ],\n        },\n        {\n          title: '采样登记',\n          tableName: '',\n          fields: [],\n          // 固定字段列表\n          fixedFields: [\n            {\n              label: '采样项目',\n              span: 12,\n            },\n            {\n              label: '采样地点',\n              span: 12,\n            },\n            {\n              label: '采样时间',\n              span: 12,\n              component: 'date',\n            },\n            {\n              label: '送样时间',\n              span: 12,\n              component: 'date',\n            },\n            {\n              label: '出结果时间',\n              span: 12,\n              component: 'date',\n            },\n            {\n              label: '结果',\n              span: 12,\n            },\n          ],\n        },\n        {\n          title: '其他情况',\n          tableName: '',\n          fields: [],\n          // 固定字段列表\n          fixedFields: [],\n        },\n      ],\n      // 自定义字段\n      customFields: [\n        {\n          label: '单选框',\n          icon: 'md-radio-button-off',\n          component: 'radio',\n          options: [\n            { label: '选项一', value: '1' },\n            { label: '选项二', value: '2' },\n          ],\n        },\n        {\n          label: '多选框',\n          icon: 'md-square-outline',\n          component: 'checkbox',\n          options: [\n            { label: '选项一', value: '1' },\n            { label: '选项二', value: '2' },\n          ],\n        },\n        {\n          label: '输入框',\n          icon: 'md-create',\n          component: 'input',\n        },\n      ],\n      // 字段配置\n      fieldConfigVisible: false,\n      fieldConfig: { ...defaultField },\n      fieldIndex: null,\n    };\n  },\n  created() {\n    // 根据数据生成默认的字段\n    this.forms.forEach(item => {\n      if (!item.fields || item.fields.length === 0) {\n        // 手动添加默认选中的固定字段\n        item.fixedFields &&\n          item.fixedFields.forEach(field => {\n            if (field.checked) {\n              this.onChangeFixedField(field, item);\n            }\n          });\n      }\n    });\n    this.onClickForm(this.forms[0]);\n  },\n  methods: {\n    // 保存\n    onSave() {},\n    // 返回\n    onBack() {\n      if (this.previewing) {\n        this.previewing = !this.previewing;\n      } else {\n        this.$router.back();\n      }\n    },\n    // 添加左侧调查表段落\n    onAddForm() {\n      const item = {\n        title: '新增段落',\n        tableName: '',\n        fields: [],\n      };\n      this.forms.push(item);\n      this.onClickForm(item);\n    },\n    // 点击左侧调查表段落\n    onClickForm(item) {\n      this.formActive = item;\n    },\n    // 改变固定字段\n    onChangeFixedField(item, form = this.formActive) {\n      const { checked } = item;\n      if (checked) {\n        item.isFixed = true;\n        this.onAddField(item, form);\n      } else {\n        if (form) {\n          const index = form.fields.findIndex(f => f.label === item.label && item.isFixed);\n          this.onDelField(item, index);\n        }\n      }\n    },\n    // 添加字段\n    onAddField(item, form = this.formActive) {\n      if (form && form.fields) {\n        form.fields.push(item);\n      }\n    },\n    // 删除字段\n    onDelField(item, index) {\n      if (this.formActive && this.formActive.fields) {\n        this.formActive.fields.splice(index, 1);\n      }\n      if (item.isFixed) {\n        item.checked = false;\n      }\n    },\n    // 显示字段配置表单\n    onShowFieldConfig(filed, index) {\n      this.fieldIndex = index;\n      const temp = this.$_.cloneDeep(filed);\n      temp.span = temp?.span || 24;\n      temp.required = temp?.required || false;\n      this.fieldConfig = temp;\n      this.fieldConfigVisible = true;\n    },\n    // 取消字段配置\n    onHideFieldConfig() {\n      this.fieldConfigVisible = false;\n      this.fieldConfig = { ...defaultField };\n    },\n    // 保存字段配置\n    onSaveFieldConfig() {\n      this.fieldConfigVisible = false;\n      this.formActive.fields[this.fieldIndex] = this.fieldConfig;\n      this.fieldIndex = null;\n      this.fieldConfig = { ...defaultField };\n    },\n    // 删除选项\n    onDelOption(item, index) {\n      this.fieldConfig.options.splice(index, 1);\n    },\n    // 添加选项\n    onAddOption() {\n      this.fieldConfig.options.push({\n        label: '',\n        value: '',\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.form-custom {\n  width: 100%;\n  min-height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-content: flex-start;\n}\n// 顶部\n.form-header {\n  width: 100%;\n  margin-bottom: 16px;\n  display: flex;\n  justify-content: space-between;\n\n  &__buttons {\n    ::v-deep .ivu-btn {\n      margin-left: @padding-sm;\n    }\n  }\n}\n// 预览\n.form-preview {\n  background: white;\n  padding: 16px;\n  flex: 1;\n}\n\n.form-container {\n  flex: 1;\n  display: flex;\n  justify-content: stretch;\n\n  & > div {\n    background-color: white;\n    padding: 16px;\n    margin-right: 16px;\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n}\n// 调查表段落\n.form-list {\n  width: 200px;\n\n  &__item {\n    margin-bottom: 12px;\n    text-align: center;\n    border: 1px solid #eee;\n    border-radius: 2px;\n    padding: 5px 10px;\n    cursor: pointer;\n\n    &:hover,\n    &.active {\n      background-color: rgba(3, 134, 255, 61);\n      color: rgba(255, 255, 255, 81);\n      border: 1px solid rgba(238, 238, 238, 100);\n    }\n  }\n}\n// 调查表字段\n.form-fields {\n  width: 200px;\n\n  .custom-field {\n    cursor: move;\n    margin-bottom: 8px;\n    font-size: 14px;\n\n    ::v-deep .ivu-icon {\n      font-size: 18px;\n      line-height: 1;\n      vertical-align: middle;\n      color: #666;\n    }\n  }\n\n  ::v-deep .ivu-collapse {\n    border: none;\n    .ivu-collapse-item {\n      border: none;\n    }\n    .ivu-collapse-header {\n      padding-left: 0;\n      border: none;\n      & > i {\n        margin-right: 4px;\n      }\n    }\n    .ivu-collapse-content-box {\n      padding-bottom: 0;\n    }\n    .ivu-checkbox-wrapper {\n      display: block;\n      margin: 0 0 8px 0;\n    }\n  }\n}\n// 右侧表单编辑\n.form-editor {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n\n  ::v-deep .ivu-form {\n    margin-top: 24px;\n    flex: 1;\n\n    .ivu-form-item-label {\n      cursor: move;\n    }\n  }\n  .form-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 8px;\n    margin-bottom: 4px;\n\n    ::v-deep .ivu-form-item {\n      flex: 1;\n      margin-bottom: 0;\n    }\n\n    &__buttons {\n      width: 100px;\n      text-align: right;\n      visibility: hidden;\n      ::v-deep .ivu-btn {\n        margin-left: 4px;\n      }\n    }\n\n    &:hover {\n      background: rgb(243, 248, 255);\n      .form-item__buttons {\n        visibility: visible;\n      }\n    }\n  }\n}\n// 字段配置表单\n.drawer-footer {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  border-top: 1px solid #e8e8e8;\n  padding: 10px @padding-md;\n  text-align: right;\n  background: #fff;\n}\n\n// 选项配置\n.field-option {\n  margin-bottom: 8px;\n  .handle {\n    cursor: move;\n  }\n  .remove {\n    color: #ed4014;\n    cursor: pointer;\n  }\n}\n.field-option-add {\n  color: #2d8cf0;\n  cursor: pointer;\n  display: inline-block;\n  margin-left: 24px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4d07cb0c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4d07cb0c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d07cb0c\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4d07cb0c&lang=less&scoped=true&\""],"sourceRoot":""}