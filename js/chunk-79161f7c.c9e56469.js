(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79161f7c"],{"29bd":function(e,t,l){"use strict";l("65ec")},"3e1c":function(e,t,l){"use strict";l("6ff8")},"65ec":function(e,t,l){},"6ff8":function(e,t,l){},be8a:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"form-build"},[l("div",{staticClass:"form-build__left"},[l("div",{staticClass:"form-build__left-header"},[e._v("拖拽或点击组件")]),l("draggable",{attrs:{list:e.components,group:{name:"fields",pull:"clone",put:!1},draggable:".form-build__left-item",sort:!1,clone:e.cloneField}},e._l(e.components,(function(t,i){return l("div",{key:i,staticClass:"form-build__left-item",on:{click:function(l){return e.onAddField(t)}}},[l("Icon",{attrs:{type:t.componentIcon,size:18}}),e._v(" "+e._s(t.config.label)+" ")],1)})),0)],1),l("div",{staticClass:"form-build__right"},[l("Form",{attrs:{"label-width":100,"label-colon":""}},[l("draggable",{staticStyle:{width:"100%",height:"100%","align-content":"flex-start"},attrs:{list:e.fields,group:"fields",tag:"Row",animation:340}},e._l(e.fields,(function(t,i){return l("Col",{key:e.$_.uniqueId(t.config.label),staticClass:"form-item",attrs:{span:t.config.span||24}},[l("custom-form-item",{attrs:{value:t}}),l("div",{staticClass:"form-item__buttons"},[l("Button",{attrs:{type:"primary",icon:"md-create",size:"small",shape:"circle"},on:{click:function(l){return e.onShowFieldConfig(t,i)}}}),l("Button",{attrs:{type:"error",icon:"md-trash",size:"small",shape:"circle"},on:{click:function(l){return e.onDelField(t,i)}}})],1)],1)})),1),l("h3",{directives:[{name:"show",rawName:"v-show",value:!e.fields.length,expression:"!fields.length"}],staticClass:"empty-info"},[e._v("从左侧拖入或点击组件进行表单设计")])],1)],1),l("field-config",{attrs:{value:e.fieldConfig},on:{save:e.onSaveFiledConfig},model:{value:e.fieldConfigVisible,callback:function(t){e.fieldConfigVisible=t},expression:"fieldConfigVisible"}})],1)},o=[],n=(l("07ac"),l("a434"),{component:"Input",componentIcon:"ios-create-outline",document:"https://www.iviewui.com/components/input",config:{span:24,label:"输入框",labelWidth:null,required:!0},props:{type:"text",size:null,placeholder:"请输入",clearable:!0,border:!0,disabled:!1,readonly:!1,maxlength:null,"show-word-limit":!1,password:!1,icon:null,prefix:null,suffix:null,search:!1,"enter-button":!1,rows:2,autosize:!1,number:!1,autofocus:!1,autocomplete:"off","element-id":null,spellcheck:!1,wrap:"soft"}}),s={input:n},a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("FormItem",e._b({},"FormItem",e.formItemConfig,!1),["radio"===e.fieldType?[l("RadioGroup",{model:{value:e.formItemConfig.value,callback:function(t){e.$set(e.formItemConfig,"value",t)},expression:"formItemConfig.value"}},e._l(e.value.options,(function(t,i){return l("Radio",{key:i,attrs:{label:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)]:"checkbox"===e.fieldType?[l("CheckboxGroup",e._l(e.fieldProps.options,(function(t,i){return l("Checkbox",{key:i,attrs:{label:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)]:"date"===e.fieldType?[l("DatePicker",{attrs:{type:e.fieldProps.type||"date",placeholder:"请选择"}})]:[l("Input",e._b({},"Input",e.fieldProps,!1))]],2)},r=[],d={name:"CustomFormItem",props:{value:{type:Object,required:!0}},computed:{formItemConfig:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.config},fieldType:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.component},fieldDocumentLink:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.document},fieldProps:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.props}}},f=d,c=l("2877"),u=Object(c["a"])(f,a,r,!1,null,"31a1e950",null),p=u.exports,m=l("b76a"),h=l.n(m),v=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("Drawer",{attrs:{value:e.show,title:"字段配置",width:"360"},on:{"on-close":e.onClose}},[l("Form",{attrs:{model:e.fieldConfig,"label-width":80}},[l("FormItem",{attrs:{label:"标签名",prop:"label"}},[l("Input",{attrs:{placeholder:"标签名"},model:{value:e.fieldConfig.label,callback:function(t){e.$set(e.fieldConfig,"label",t)},expression:"fieldConfig.label"}})],1),l("FormItem",{attrs:{label:"标签宽度",prop:"labelWidth"}},[l("Input",{attrs:{type:"number",placeholder:"标签宽度"},model:{value:e.fieldConfig.labelWidth,callback:function(t){e.$set(e.fieldConfig,"labelWidth",t)},expression:"fieldConfig.labelWidth"}})],1),l("FormItem",{attrs:{label:"表单栅格",prop:"span"}},[l("InputNumber",{attrs:{min:2,max:24,step:4},model:{value:e.fieldConfig.span,callback:function(t){e.$set(e.fieldConfig,"span",t)},expression:"fieldConfig.span"}})],1),l("FormItem",{attrs:{label:"必填",prop:"required"}},[l("i-switch",{model:{value:e.fieldConfig.required,callback:function(t){e.$set(e.fieldConfig,"required",t)},expression:"fieldConfig.required"}},[l("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),l("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1),l("Divider",[e._v("Props")]),l("FormItem",{attrs:{label:"尺寸",prop:"size"}},[l("Select",{model:{value:e.fieldProps.size,callback:function(t){e.$set(e.fieldProps,"size",t)},expression:"fieldProps.size"}},[l("Option",{attrs:{value:"small",label:"small"}}),l("Option",{attrs:{value:"default",label:"default"}}),l("Option",{attrs:{value:"large",label:"large"}})],1)],1),l("FormItem",{attrs:{label:"占位文本",prop:"placeholder"}},[l("Input",{attrs:{placeholder:"占位文本"},model:{value:e.fieldProps.placeholder,callback:function(t){e.$set(e.fieldProps,"placeholder",t)},expression:"fieldProps.placeholder"}})],1),l("FormItem",{attrs:{label:"是否禁用",prop:"disabled"}},[l("i-switch",{model:{value:e.fieldProps.disabled,callback:function(t){e.$set(e.fieldProps,"disabled",t)},expression:"fieldProps.disabled"}},[l("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),l("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1),["radio","checkbox"].includes(e.fieldConfig.component)?[l("Divider",[e._v("选项")]),l("draggable",{attrs:{list:e.fieldConfig.options,draggable:".field-option",handle:".handle"}},[e._l(e.fieldConfig.options,(function(t,i){return l("div",{key:e.$_.uniqueId(t.label),staticClass:"field-option"},[l("Icon",{staticClass:"handle",attrs:{type:"md-menu",size:"20"}}),l("Input",{staticStyle:{width:"160px"},attrs:{placeholder:"选项名"},model:{value:t.label,callback:function(l){e.$set(t,"label",l)},expression:"item.label"}}),l("Input",{staticStyle:{width:"100px"},attrs:{placeholder:"选项值"},model:{value:t.value,callback:function(l){e.$set(t,"value",l)},expression:"item.value"}}),l("Icon",{staticClass:"remove",attrs:{type:"ios-remove-circle-outline",size:"20"},on:{click:function(l){return e.onDelOption(t,i)}}})],1)})),l("div",{staticClass:"field-option-add",attrs:{slot:"footer"},on:{click:e.onAddOption},slot:"footer"},[l("Icon",{attrs:{type:"ios-add-circle-outline",size:"18"}}),e._v(" 添加选项 ")],1)],2)]:e._e()],2),l("div",{staticClass:"drawer-footer"},[l("Button",{staticStyle:{"margin-right":"8px"},on:{click:e.onClose}},[e._v("取消")]),l("Button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保存")])],1)],1)},b=[],g=(l("a9e3"),{name:"FieldConfig",model:{prop:"visible",event:"change"},props:{visible:{type:Boolean,default:!1},value:{type:Object}},data:function(){return{show:!1,filedData:{},fieldConfig:{},fieldProps:{}}},watch:{visible:{handler:function(e){var t,l;(this.show=e,e)?(this.filedData=this.$_.cloneDeep(this.value),this.fieldConfig=null===(t=this.filedData)||void 0===t?void 0:t.config,this.fieldProps=null===(l=this.filedData)||void 0===l?void 0:l.props):this.filedData={}},immediate:!0}},methods:{emitChange:function(e){this.$emit("change",e)},emitSave:function(){for(var e in this.fieldConfig){var t=this.fieldConfig[e];t||0===t?"labelWidth"===e&&(this.fieldConfig[e]=Number(t)):this.fieldConfig[e]=null}this.$emit("save",this.filedData)},onClose:function(){this.emitChange(!1)},onSave:function(){this.emitSave(),this.onClose()},onDelOption:function(e,t){this.fieldConfig.options.splice(t,1)},onAddOption:function(){this.fieldConfig.options.push({label:"",value:""})}}}),C=g,_=(l("29bd"),Object(c["a"])(C,v,b,!1,null,"3f018dd0",null)),w=_.exports,k={components:{FieldConfig:w,CustomFormItem:p,draggable:h.a},data:function(){return{components:Object.values(s),fields:[],fieldConfigVisible:!1,fieldConfig:null}},methods:{cloneField:function(e){return this.$_.cloneDeep(e)},onAddField:function(e){this.fields.push(this.cloneField(e))},onDelField:function(e,t){this.fields.splice(t,1)},onShowFieldConfig:function(e,t){this.fieldConfig=e,this.fieldConfigVisible=!0},onSaveFiledConfig:function(e){this.fieldConfig.config=e.config,this.fieldConfig.props=e.props}}},I=k,y=(l("3e1c"),Object(c["a"])(I,i,o,!1,null,"9576824e",null));t["default"]=y.exports}}]);
//# sourceMappingURL=chunk-79161f7c.c9e56469.js.map